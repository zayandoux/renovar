<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snake Misteriosa ğŸ</title>

<style>
body{
    margin:0;
    background: linear-gradient(135deg,#141e30,#243b55);
    display:flex;
    flex-direction:column;
    align-items:center;
    color:white;
    font-family:Arial, sans-serif;
}

h2{
    margin-top:20px;
}

canvas{
    background:#111;
    margin-top:10px;
    border-radius:10px;
}

#message{
    margin-top:20px;
    text-align:center;
}
button{
    padding:10px 20px;
    border:none;
    border-radius:10px;
    background:#ff4da6;
    color:white;
    font-size:16px;
    cursor:pointer;
    margin-top:10px;
}
</style>
</head>
<body>

<h2>ğŸ Jogo Misterioso ğŸ</h2>
<p>Alimente a cobrinha...</p>
<canvas id="game" width="300" height="300"></canvas>
<div id="message"></div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

const box = 15;
let snake = [{x:150,y:150}];
let direction = "RIGHT";
let food = randomFood();
let score = 0;

document.addEventListener("keydown", changeDirection);

// Controles para celular
canvas.addEventListener("touchstart", handleTouch);

function handleTouch(e){
    let touchX = e.touches[0].clientX;
    let touchY = e.touches[0].clientY;
    if(touchX < window.innerWidth/2) direction = "LEFT";
    else direction = "RIGHT";
}

function randomFood(){
    return {
        x: Math.floor(Math.random()*20)*box,
        y: Math.floor(Math.random()*20)*box
    }
}

function changeDirection(event){
    if(event.key == "ArrowLeft" && direction != "RIGHT") direction="LEFT";
    if(event.key == "ArrowUp" && direction != "DOWN") direction="UP";
    if(event.key == "ArrowRight" && direction != "LEFT") direction="RIGHT";
    if(event.key == "ArrowDown" && direction != "UP") direction="DOWN";
}

function draw(){
    ctx.fillStyle="#111";
    ctx.fillRect(0,0,300,300);

    for(let i=0;i<snake.length;i++){
        ctx.fillStyle=i==0?"#ff4da6":"#ff85c2";
        ctx.fillRect(snake[i].x,snake[i].y,box,box);
    }

    ctx.fillStyle="red";
    ctx.font="20px Arial";
    ctx.fillText("ğŸ’–", food.x, food.y+15);

    let snakeX=snake[0].x;
    let snakeY=snake[0].y;

    if(direction=="LEFT") snakeX-=box;
    if(direction=="UP") snakeY-=box;
    if(direction=="RIGHT") snakeX+=box;
    if(direction=="DOWN") snakeY+=box;

    if(snakeX==food.x && snakeY==food.y){
        score++;
        food=randomFood();
    }else{
        snake.pop();
    }

    let newHead={x:snakeX,y:snakeY};

    if(snakeX<0||snakeY<0||snakeX>=300||snakeY>=300){
        clearInterval(game);
        showFinal();
    }

    snake.unshift(newHead);
}

function showFinal(){
    document.getElementById("message").innerHTML = `
        <h3>ğŸ’« Interessante...</h3>
        <p>VocÃª alimentou a cobrinha com ${score} coraÃ§Ãµes...</p>
        <p>Mas o verdadeiro prÃªmio nÃ£o era o jogo.</p>
        <h2 style="color:#ff4da6;">Era um convite especial ğŸ˜Œ</h2>
        <p>O LÃ©o quer saber...</p>
        <h3>VocÃª aceita sair com ele essa semana?</h3>
        <button onclick="aceitou()">Aceito ğŸ’–</button>
    `;
}

function aceitou(){
    document.getElementById("message").innerHTML = `
        <h2>ğŸ¥° Ele vai adorar ouvir isso.</h2>
        <p>Prepare-se... esse encontro promete ğŸ˜Œ</p>
    `;
}

let game=setInterval(draw,120);
</script>

</body>
</html>