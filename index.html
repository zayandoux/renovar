<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Labirinto do Destino</title>

<style>
body{
    margin:0;
    background: radial-gradient(circle at top, #1f1f3a, #0d0d18);
    display:flex;
    flex-direction:column;
    align-items:center;
    font-family: 'Segoe UI', sans-serif;
    color:white;
    overflow:hidden;
    touch-action:none;
}

h2{
    margin-top:20px;
    font-weight:300;
}

canvas{
    background:rgba(255,255,255,0.05);
    margin-top:15px;
    border-radius:15px;
    box-shadow:0 0 25px rgba(255,77,166,0.4);
}

#controls{
    margin-top:15px;
    display:grid;
    grid-template-columns:60px 60px 60px;
    gap:8px;
}

.ctrl{
    background:#ff4da6;
    border:none;
    border-radius:12px;
    font-size:20px;
    color:white;
    padding:10px;
    cursor:pointer;
}

#overlay{
    position:fixed;
    inset:0;
    background:linear-gradient(135deg,#141e30,#243b55);
    display:none;
    justify-content:center;
    align-items:center;
    text-align:center;
}

.final-box{
    background:rgba(255,255,255,0.05);
    padding:30px;
    border-radius:20px;
    box-shadow:0 0 30px rgba(255,77,166,0.5);
}
</style>
</head>
<body>

<h2>ğŸ’– Labirinto do Destino ğŸ’–</h2>
<canvas id="game" width="360" height="360"></canvas>

<div id="controls">
    <div></div>
    <button class="ctrl" onmousedown="press(0,-1)" onmouseup="release()" ontouchstart="press(0,-1)" ontouchend="release()">â¬†ï¸</button>
    <div></div>
    <button class="ctrl" onmousedown="press(-1,0)" onmouseup="release()" ontouchstart="press(-1,0)" ontouchend="release()">â¬…ï¸</button>
    <button class="ctrl" onmousedown="press(0,1)" onmouseup="release()" ontouchstart="press(0,1)" ontouchend="release()">â¬‡ï¸</button>
    <button class="ctrl" onmousedown="press(1,0)" onmouseup="release()" ontouchstart="press(1,0)" ontouchend="release()">â¡ï¸</button>
</div>

<div id="overlay">
    <div class="final-box">
        <h2>ğŸ’« VocÃª conseguiu...</h2>
        <p>Depois de atravessar todos os caminhos...</p>
        <h2 style="color:#ff4da6;">O prÃªmio Ã© um encontro com o LÃ©o ğŸ˜Œ</h2>
        <p>VocÃª aceita sair com ele essa semana?</p>
    </div>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

const tile = 30;
const rows = 12;
const cols = 12;

let player = {x:0,y:0};
let velocity = {x:0,y:0};
let speed = 0.08;

const maze = [
[0,1,0,0,0,1,0,0,0,0,1,0],
[0,1,0,1,0,1,0,1,1,0,1,0],
[0,0,0,1,0,0,0,1,0,0,1,0],
[1,1,0,1,1,1,0,1,0,1,1,0],
[0,0,0,0,0,1,0,0,0,1,0,0],
[0,1,1,1,0,1,1,1,0,1,0,1],
[0,0,0,1,0,0,0,1,0,0,0,1],
[1,1,0,1,1,1,0,0,1,1,0,0],
[0,0,0,0,0,1,0,1,1,0,0,1],
[0,1,1,1,0,1,0,0,0,0,1,0],
[0,0,0,1,0,0,0,1,1,0,1,0],
[1,1,0,0,0,1,0,0,1,0,0,2]
];

let keys = {};

document.addEventListener("keydown", e=>{
    if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)){
        e.preventDefault();
        keys[e.key]=true;
    }
},{passive:false});

document.addEventListener("keyup", e=>{
    keys[e.key]=false;
});

function press(dx,dy){
    velocity.x = dx;
    velocity.y = dy;
}

function release(){
    velocity.x = 0;
    velocity.y = 0;
}

function update(){

    if(keys["ArrowUp"]) velocity={x:0,y:-1};
    if(keys["ArrowDown"]) velocity={x:0,y:1};
    if(keys["ArrowLeft"]) velocity={x:-1,y:0};
    if(keys["ArrowRight"]) velocity={x:1,y:0};

    let nextX = player.x + velocity.x * speed;
    let nextY = player.y + velocity.y * speed;

    let gridX = Math.floor(nextX);
    let gridY = Math.floor(nextY);

    if(gridX>=0 && gridY>=0 && gridX<cols && gridY<rows){
        if(maze[gridY][gridX] != 1){
            player.x = nextX;
            player.y = nextY;

            if(maze[Math.floor(player.y)][Math.floor(player.x)] == 2){
                winGame();
            }
        }
    }

    draw();
    requestAnimationFrame(update);
}

function draw(){
    ctx.clearRect(0,0,360,360);

    for(let y=0;y<rows;y++){
        for(let x=0;x<cols;x++){
            if(maze[y][x]==1){
                ctx.fillStyle="#2e2e4d";
                ctx.fillRect(x*tile,y*tile,tile,tile);
            }
            if(maze[y][x]==2){
                ctx.fillStyle="#ff4da6";
                ctx.fillRect(x*tile,y*tile,tile,tile);
            }
        }
    }

    ctx.font="26px Arial";
    ctx.fillText("ğŸ’–",player.x*tile+3,player.y*tile+26);
}

function winGame(){
    document.querySelector("canvas").style.display="none";
    document.getElementById("controls").style.display="none";
    document.querySelector("h2").style.display="none";
    document.getElementById("overlay").style.display="flex";
}

update();
</script>

</body>
</html>