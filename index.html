<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Labirinto do Destino</title>

<style>
body{
    margin:0;
    background: radial-gradient(circle at top, #1f1f3a, #0d0d18);
    display:flex;
    flex-direction:column;
    align-items:center;
    font-family: 'Segoe UI', sans-serif;
    color:white;
    overflow:hidden;
}

h2{
    margin-top:20px;
    font-weight:300;
}

canvas{
    background:rgba(255,255,255,0.05);
    backdrop-filter: blur(6px);
    margin-top:15px;
    border-radius:15px;
    box-shadow:0 0 25px rgba(255,77,166,0.4);
}

#controls{
    margin-top:15px;
    display:grid;
    grid-template-columns:60px 60px 60px;
    gap:8px;
}

.ctrl{
    background:#ff4da6;
    border:none;
    border-radius:12px;
    font-size:20px;
    color:white;
    padding:10px;
    cursor:pointer;
}

#overlay{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:linear-gradient(135deg,#141e30,#243b55);
    display:none;
    justify-content:center;
    align-items:center;
    text-align:center;
    padding:20px;
    animation:fadeIn 1s ease forwards;
}

@keyframes fadeIn{
    from{opacity:0}
    to{opacity:1}
}

.final-box{
    background:rgba(255,255,255,0.05);
    padding:30px;
    border-radius:20px;
    box-shadow:0 0 30px rgba(255,77,166,0.5);
}

.final-box button{
    margin-top:15px;
    padding:12px 25px;
    border:none;
    border-radius:12px;
    background:#ff4da6;
    color:white;
    font-size:16px;
    cursor:pointer;
}
</style>
</head>
<body>

<h2>ğŸ’– Labirinto do Destino ğŸ’–</h2>
<canvas id="game" width="360" height="360"></canvas>

<div id="controls">
    <div></div>
    <button class="ctrl" onclick="setDirection(0,-1)">â¬†ï¸</button>
    <div></div>
    <button class="ctrl" onclick="setDirection(-1,0)">â¬…ï¸</button>
    <button class="ctrl" onclick="setDirection(0,1)">â¬‡ï¸</button>
    <button class="ctrl" onclick="setDirection(1,0)">â¡ï¸</button>
</div>

<div id="overlay">
    <div class="final-box">
        <h2>ğŸ’« VocÃª conseguiu...</h2>
        <p>Depois de atravessar todos os caminhos...</p>
        <h2 style="color:#ff4da6;">O prÃªmio Ã© um encontro com o LÃ©o ğŸ˜Œ</h2>
        <p>Ele quer saber...</p>
        <h3>VocÃª aceita sair com ele essa semana?</h3>
        <button onclick="aceitou()">Aceito ğŸ’–</button>
    </div>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

const tile = 30;
const rows = 12;
const cols = 12;

let player = {x:0,y:0};
let targetX = 0;
let targetY = 0;
let moving = false;

const maze = [
[0,1,0,0,0,1,0,0,0,0,1,0],
[0,1,0,1,0,1,0,1,1,0,1,0],
[0,0,0,1,0,0,0,1,0,0,1,0],
[1,1,0,1,1,1,0,1,0,1,1,0],
[0,0,0,0,0,1,0,0,0,1,0,0],
[0,1,1,1,0,1,1,1,0,1,0,1],
[0,0,0,1,0,0,0,1,0,0,0,1],
[1,1,0,1,1,1,0,0,1,1,0,0],
[0,0,0,0,0,1,0,1,1,0,0,1],
[0,1,1,1,0,1,0,0,0,0,1,0],
[0,0,0,1,0,0,0,1,1,0,1,0],
[1,1,0,0,0,1,0,0,1,0,0,2]
];

function drawMaze(){
    ctx.clearRect(0,0,360,360);

    for(let y=0;y<rows;y++){
        for(let x=0;x<cols;x++){
            if(maze[y][x]==1){
                ctx.fillStyle="#2e2e4d";
                ctx.fillRect(x*tile,y*tile,tile,tile);
            }
            if(maze[y][x]==2){
                ctx.fillStyle="#ff4da6";
                ctx.fillRect(x*tile,y*tile,tile,tile);
            }
        }
    }

    ctx.font="26px Arial";
    ctx.fillText("ğŸ’–",player.x*tile+3,player.y*tile+26);
}

function setDirection(dx,dy){
    if(moving) return;

    let newX = Math.round(player.x) + dx;
    let newY = Math.round(player.y) + dy;

    if(newX>=0 && newY>=0 && newX<cols && newY<rows){
        if(maze[newY][newX]!=1){
            targetX = newX;
            targetY = newY;
            moving = true;
        }
    }
}

function update(){
    if(moving){
        player.x += (targetX - player.x) * 0.2;
        player.y += (targetY - player.y) * 0.2;

        if(Math.abs(player.x-targetX)<0.05 && Math.abs(player.y-targetY)<0.05){
            player.x = targetX;
            player.y = targetY;
            moving = false;

            if(maze[targetY][targetX]==2){
                winGame();
            }
        }
    }

    drawMaze();
    requestAnimationFrame(update);
}

function winGame(){
    document.querySelector("canvas").style.display="none";
    document.getElementById("controls").style.display="none";
    document.querySelector("h2").style.display="none";
    document.getElementById("overlay").style.display="flex";
}

function aceitou(){
    document.querySelector(".final-box").innerHTML = `
    <h2>ğŸ¥° Excelente escolha.</h2>
    <p>Prepare-se... esse encontro promete ğŸ˜Œ</p>
    `;
}

update();
</script>

</body>
</html>